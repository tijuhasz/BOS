MACRO(STRING_TO_LENGTH STR FILL_LEN OUTP)
    STRING(LENGTH "${STR}" LEN)
    MATH(EXPR LEN "${FILL_LEN}-${LEN}")
    SET(SUFFIX "")
    FOREACH(I RANGE 1 ${LEN})
        SET(SUFFIX "${SUFFIX} ")
    ENDFOREACH()
    SET(${OUTP} "${STR}${SUFFIX}")
ENDMACRO(STRING_TO_LENGTH)

MACRO(DECL_CONFIG VARIABLE_NAME STANDARD_VALUE)
    SET(OUTP "")
    STRING_TO_LENGTH("${VARIABLE_NAME}" 60 "OUTP")
    if(NOT DEFINED ${VARIABLE_NAME})
        SET(${VARIABLE_NAME} ${STANDARD_VALUE})
        LIST(APPEND CONFIG "${OUTP} => ${${VARIABLE_NAME}} (default)")
    else()
        LIST(APPEND CONFIG "${OUTP} => ${${VARIABLE_NAME}}")
    endif()
    FOREACH(COMMENT ${ARGN})
        LIST(APPEND CONFIG "    * ${COMMENT}")
    ENDFOREACH()
ENDMACRO(DECL_CONFIG)

MACRO(INFO_CONFIG VARIABLE_NAME TYPE)
    STRING(LENGTH "${VARIABLE_NAME}" LEN)
    SET(OUTP "")
    STRING_TO_LENGTH("${VARIABLE_NAME}" 60 "OUTP")
    LIST(APPEND CONFIG "${OUTP} => ${${VARIABLE_NAME}} (${TYPE})")
    FOREACH(COMMENT ${ARGN})
        LIST(APPEND CONFIG "    * ${COMMENT}")
    ENDFOREACH()
ENDMACRO(INFO_CONFIG)

MACRO(IGNORE_CONFIG VARIABLE_NAME VALUE REASON)
    LIST(LENGTH CONFIG NUM)
    #    MESSAGE(STATUS "Looking for >${VARIABLE_NAME}<")
    FOREACH(I RANGE 1 ${NUM})
        MATH(EXPR I "${I}-1")
        LIST(GET CONFIG ${I} ITEM)
        STRING(REPLACE " => " ";" KEY_VAL ${ITEM})
        LIST(LENGTH KEY_VAL LEN)
        if(LEN GREATER 1)
            LIST(GET KEY_VAL 0 KEY)
            LIST(GET KEY_VAL 1 VAL)
	    #	    MESSAGE(STATUS "KEY = >${KEY}< ?= >${VARIABLE_NAME}, ${${VARIABLE_NAME}}< == ${VAL}")
            STRING(STRIP "${VARIABLE_NAME}" X)
	    STRING(STRIP "${KEY}" Y)
            if(Y STREQUAL X)
		    #                MESSAGE(STATUS "Chaning var ${KEY}, ${VAL}")
                SET(${VARIABLE_NAME} ${VALUE})
                LIST(REMOVE_AT CONFIG ${I})
                SET(OUTP "")
                STRING_TO_LENGTH("${VARIABLE_NAME}" 60 "OUTP")
                LIST(INSERT CONFIG ${I} "${OUTP} => ${${VARIABLE_NAME}} (ignored because : ${REASON})")
            endif()
        endif()
    ENDFOREACH()
ENDMACRO(IGNORE_CONFIG)

MACRO(SHOW_CONFIG)
    MESSAGE(STATUS "******************* Configuration: ******************* " "")
    FOREACH(VAL ${CONFIG})
        MESSAGE(STATUS "    ${VAL}" "")
    ENDFOREACH()
    MESSAGE(STATUS "****************************************************** " "")
ENDMACRO(SHOW_CONFIG)
